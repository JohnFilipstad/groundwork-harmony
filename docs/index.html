<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Theme Generator</title>
  <link rel="stylesheet" href="../dist/fonts/fonts.css" />
  <link rel="stylesheet" href="../src/css/tokens/groundwork-tokens.css">
  <link rel="stylesheet" href="../src/css/base/root.css">
  <link rel="stylesheet" href="../src/css/base/reset.css">
  <link rel="stylesheet" href="../src/css/base/typography.css">
  <link rel="stylesheet" href="../src/css/base/links.css">
  <link rel="stylesheet" href="../src/css/base/lists.css">
  <link rel="stylesheet" href="../src/css/base/quotes.css">
  <link rel="stylesheet" href="../src/css/base/code.css">
  <link rel="stylesheet" href="../src/css/base/embedded.css">
  <link rel="stylesheet" href="../src/css/base/tables.css">
  <link rel="stylesheet" href="../src/css/base/forms.css">
  <link rel="stylesheet" href="../src/css/base/interactive.css">
  <link rel="stylesheet" href="../src/css/base/semantic.css">
  <link rel="stylesheet" href="../src/css/base/accessibility.css">
  <link rel="stylesheet" href="../src/css/base/scrollbar.css">
  <link rel="stylesheet" href="../src/css/base/selection.css">
  <link rel="stylesheet" href="../src/css/base/motion.css">
  <link rel="stylesheet" href="../src/css/print/print.css">
  <link rel="stylesheet" href="../src/docs/assets/docs.css" />
  <style>
    /* Styles for the new preview container */
    .preview-container {
      border: 1px solid var(--border-color-default);
      border-radius: var(--border-radius-m);
      overflow: hidden;
      margin-top: var(--spacing-m);
      font-family: var(--font-family-base);
      background-color: var(--background-color-body);
      color: var(--color-text-base);
      transition: var(--transition-colors);
    }

    #preview-header,
    #preview-footer {
      padding: var(--spacing-s) var(--spacing-m);
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    #preview-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    #preview-header .preview-site-name {
      font-family: var(--font-family-site-name);
      font-size: var(--font-size-xxxl);
      font-weight: var(--font-weight-bold);
    }

    #preview-header nav a {
      margin-left: var(--spacing-s);
      color: inherit;
      text-decoration: none;
      opacity: 0.8;
      transition: opacity 0.3s ease;
    }

    #preview-header nav a:hover {
      opacity: 1;
    }

    .preview-main {
      padding: var(--spacing-l);
    }

    .preview-main h1,
    .preview-main h2,
    .preview-main h3,
    .preview-main h4 {
      font-family: var(--font-family-headings);
      margin-bottom: var(--spacing-s);
    }

    .preview-main h1 {
      font-size: var(--font-size-xxl);
    }

    .preview-main h2 {
      font-size: var(--font-size-xl);
    }

    .preview-main h3 {
      font-size: var(--font-size-l);
    }

    .preview-main h4 {
      font-size: var(--font-size-m);
    }

    .preview-main p {
      font-size: var(--font-size-base);
      line-height: var(--line-height-normal);
      max-width: 65ch;
    }

    .preview-main a {
      color: var(--color-link);
      text-decoration: underline;
    }

    .preview-main a:hover {
      color: var(--color-link-hover);
    }

    .preview-main blockquote {
      margin: var(--spacing-m) 0;
      padding: var(--spacing-m);
      border-left: 5px solid;
      border-radius: var(--border-radius-s);
      transition: border-color 0.3s ease, background-color 0.3s ease;
    }

    .preview-main .btn {
      padding: var(--spacing-s) var(--spacing-m);
      border: none;
      border-radius: var(--border-radius-s);
      font-size: var(--font-size-base);
      cursor: pointer;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .color-swatches {
      display: flex;
      gap: var(--spacing-m);
      margin-top: var(--spacing-l);
    }

    .swatch {
      text-align: center;
    }

    .swatch-color {
      width: 60px;
      height: 60px;
      border-radius: var(--border-radius-full);
      margin-bottom: var(--spacing-xs);
      border: 1px solid var(--border-color-default);
      transition: background-color 0.3s ease;
    }

    header {
      padding: var(--spacing-s) var(--spacing-m);
    }

    .intro {
      font-size: var(--font-size-l);
      line-height: 1.5;
      max-width: 80ch;
      margin: var(--spacing-m) auto;
    }

    .features ul {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: var(--spacing-m);
      padding: 0;
      list-style: none;
    }

    .features li {
      padding: var(--spacing-s);
      background: var(--background-color-secondary);
      border-radius: var(--border-radius-s);
      display: flex;
      align-items: flex-start;
      gap: var(--spacing-xs);
    }

    .features li::before {
      content: "";
      font-size: 1.5em;
    }

    .theme-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      z-index: 1000;
    }
  </style>
</head>

<body>
  <header>
    <!-- Theme Toggle -->
    <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ™ Dark Mode</button>
    <h1>Groundwork Harmony Theme Generator</h1>
    <p class="intro">
      <strong>Orchestrate your design system</strong> with this interactive tool for
      <a href="https://github.com/IbentaLab/groundwork_harmony" target="_blank">Groundwork Harmony</a> -
      the class-less CSS framework that makes semantic HTML sing. Customize every aspect of your theme,
      from colors to typography scales, and see changes in real-time.
    </p>
    <div class="features">
      <ul>
        <li>ðŸŽ¨ <strong>Design Tokens</strong> - Centralized control of colors, fonts, and spacing</li>
        <li>ðŸŒ“ <strong>Auto Dark Mode</strong> - Seamless light/dark theme adaptation</li>
        <li>â™¿ <strong>Accessibility First</strong> - WCAG-compliant contrast checking built-in</li>
        <li>âš¡ <strong>Modern CSS</strong> - Leverages :has(), color-mix(), and other cutting-edge features</li>
      </ul>
    </div>
  </header>

  <main>

    <hr>
    <!-- Theme Configuration Form -->
    <section id="theme-config">
      <h2>Configure Your Theme</h2>
      <form id="theme-form">
        <!-- Brand Colors -->
        <fieldset>
          <legend>Brand Colors</legend>
          <p>
            Define the main colors for your theme. These colors will be used
            for buttons, links, and other prominent elements. You can also
            configure the text color for each background (e.g., light or
            dark).
          </p>
          <label for="color-primary">Primary Background Color:</label>
          <input type="color" id="color-primary" name="color-primary" value="#8f2fe9" />
          <small>Default: #8f2fe9</small>

          <label for="color-secondary">Secondary Background Color:</label>
          <input type="color" id="color-secondary" name="color-secondary" value="#594af6" />
          <small>Default: #594af6</small>

          <label for="color-accent">Accent Background Color:</label>
          <input type="color" id="color-accent" name="color-accent" value="#f5b800" />
          <small>Default: #f5b800</small>
        </fieldset>

        <!-- Header and Footer Colors -->
        <fieldset>
          <legend>Header and Footer Colors</legend>
          <p>
            Configure the colors for your site's header. Choose a background
            color and a corresponding text color for better readability.
          </p>
          <label for="header-bg-color">Header Background Color:</label>
          <input type="color" id="header-bg-color" name="header-bg-color" value="#ffffff" />
          <small>Default: #ffffff (Light theme), #121212 (Dark theme)</small>

          <label for="footer-bg-color">Footer Background Color:</label>
          <input type="color" id="footer-bg-color" name="footer-bg-color" value="#ffffff" />
          <small>Default: #ffffff (Light theme), #121212 (Dark theme)</small>
        </fieldset>

        <!-- Typography -->
        <fieldset>
          <legend>Typography</legend>
          <p>
            Adjust the base font size and choose a modular scale to control
            the hierarchy of text sizes throughout your theme.
          </p>
          <label for="font-size-base">Base Font Size:</label>
          <input type="number" id="font-size-base" name="font-size-base" min="12" max="24" value="16" />
          <small>Default: 16px</small>

          <label for="font-scale">Font Scale:</label>
          <select id="font-scale" name="font-scale">
            <option value="1.2">Minor Third (1.2)</option>
            <option value="1.25">Major Third (1.25)</option>
            <option value="1.333" selected>Perfect Fourth (1.333)</option>
            <option value="1.414">Augmented Fourth (1.414)</option>
            <option value="1.5">Perfect Fifth (1.5)</option>
          </select>
          <small>Default: Perfect Fourth (1.333)</small>
        </fieldset>

        <!-- Font Sources -->
        <fieldset>
          <legend>Font Sources (Advanced)</legend>
          <p>
            Use this section to provide custom font files or URLs for your
            theme. Leave these fields blank to use the default system fonts.
          </p>
          <label for="sans-font-regular">Sans Regular Font Source:</label>
          <input type="text" id="sans-font-regular" name="sans-font-regular"
            placeholder='e.g., url("./Inter-Regular.woff2") format("woff2");' />
          <small>Default: system-ui, sans-serif</small>

          <label for="sans-font-italic">Sans Italic Font Source:</label>
          <input type="text" id="sans-font-italic" name="sans-font-italic"
            placeholder='e.g., url("./Inter-Italic.woff2") format("woff2");' />
          <small>Default: system-ui, sans-serif</small>

          <label for="serif-font-regular">Serif Regular Font Source:</label>
          <input type="text" id="serif-font-regular" name="serif-font-regular"
            placeholder='e.g., url("./TimesNewRoman-Regular.woff2") format("woff2");' />
          <small>Default: ui-serif, serif</small>

          <label for="serif-font-italic">Serif Italic Font Source:</label>
          <input type="text" id="serif-font-italic" name="serif-font-italic"
            placeholder='e.g., url("./TimesNewRoman-Italic.woff2") format("woff2");' />
          <small>Default: ui-serif, serif</small>

          <label for="mono-font-regular">Mono Regular Font Source:</label>
          <input type="text" id="mono-font-regular" name="mono-font-regular"
            placeholder='e.g., url("./Courier-Regular.woff2") format("woff2");' />
          <small>Default: monospace</small>

          <label for="mono-font-italic">Mono Italic Font Source:</label>
          <input type="text" id="mono-font-italic" name="mono-font-italic"
            placeholder='e.g., url("./Courier-Italic.woff2") format("woff2");' />
          <small>Default: monospace</small>
        </fieldset>

      </form>
    </section>

    <!-- Export Section -->
    <section id="theme-export">
      <h2>Export Theme</h2>
      <textarea id="theme-output" readonly></textarea>
      <button id="copy-theme">Copy to Clipboard</button>
      <button id="download-theme">Download as File</button>
    </section>

    <!-- NEW LIVE PREVIEW SECTION -->
    <section id="theme-preview">
      <h2>Live Preview</h2>
      <div id="preview-container" class="preview-container">
        <!-- Header Preview -->
        <header id="preview-header">
          <div class="preview-site-name">Site Name</div>
          <nav>
            <a href="#" id="preview-link-header">Home</a>
            <a href="#">About</a>
            <a href="#">Contact</a>
          </nav>
        </header>

        <!-- Main Content Preview -->
        <main id="preview-main">
          <section class="preview-typography">
            <h1>Typography Showcase</h1>
            <p>This is a paragraph. It uses the base font size. You can see how your font choices affect the readability
              and style of the text. A <a href="#" id="preview-link-body">link inside the text</a> will also be styled.
            </p>
            <h2>This is an H2</h2>
            <h3>This is an H3</h4>
              <blockquote id="preview-blockquote">
                This is a blockquote, a great place to feature the secondary color. It's often used for highlighting
                testimonials or important quotes.
              </blockquote>
          </section>
          <section class="preview-colors">
            <h3>Color &amp; Interaction</h3>
            <p>The main interactive elements will use your brand colors.</p>
            <button id="preview-button" class="btn">Accent Button</button>
            <div class="color-swatches">
              <div class="swatch">
                <div id="swatch-primary" class="swatch-color"></div>
                <span>Primary</span>
              </div>
              <div class="swatch">
                <div id="swatch-secondary" class="swatch-color"></div>
                <span>Secondary</span>
              </div>
              <div class="swatch">
                <div id="swatch-accent" class="swatch-color"></div>
                <span>Accent</span>
              </div>
            </div>
          </section>
        </main>

        <!-- Footer Preview -->
        <footer id="preview-footer">
          <p>&copy; 2025 Your Company. All rights reserved.</p>
        </footer>
      </div>
    </section>

    <!-- Accessibility -->
    <section id="theme-accessibility">
      <h2>Accessibility</h2>
      <form id="wcag-form">
        <fieldset>
          <legend>WCAG AA Compliance Checker</legend>
          <p>
            Use this tool to verify that your background and text colors meet
            WCAG AA standards for accessibility. Choose a background color and
            select a text option to see if the combination passes.
          </p>

          <label for="wcag-bg-color">Background Color:</label>
          <input type="color" id="wcag-bg-color" name="wcag-bg-color" value="#ffffff" />
          <small>Choose a color for the background.</small>

          <label for="wcag-text-color">Text Color:</label>
          <select id="wcag-text-color" name="wcag-text-color">
            <option value="light" selected>Text on Light Background</option>
            <option value="dark">Text on Dark Background</option>
          </select>
          <small>Select "Light" or "Dark" to use default text colors.</small>

          <div id="wcag-results">
            <p>
              <strong>Contrast Ratio:</strong>
              <span id="contrast-ratio">N/A</span>
            </p>
            <p><strong>WCAG AA Compliance:</strong></p>
            <ul>
              <li>
                Normal Text:
                <span id="compliance-normal" style="color: gray">N/A</span>
              </li>
              <li>
                Large Text:
                <span id="compliance-large" style="color: gray">N/A</span>
              </li>
            </ul>
          </div>
        </fieldset>
      </form>
    </section>
  </main>
  <footer>
    <p>&copy; 2025 Groundwork Harmony. All rights reserved.</p>
  </footer>
  <script src="../src/js/theme-toggle.js" defer></script>
  <script src="../src/js/theme-generator.js"></script>
</body>

</html>